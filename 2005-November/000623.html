<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Maay-svncheckins] r652 - in trunk/maay: . data
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/maay-svncheckins/2005-November/index.html" >
   <LINK REL="made" HREF="mailto:maay-svncheckins%40lists.berlios.de?Subject=Re%3A%20%5BMaay-svncheckins%5D%20r652%20-%20in%20trunk/maay%3A%20.%20data&In-Reply-To=%3C200511241618.jAOGIK4t027433%40sheep.berlios.de%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000624.html">
   <LINK REL="Next"  HREF="000625.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Maay-svncheckins] r652 - in trunk/maay: . data</H1>
    <B>aurelienc at BerliOS</B> 
    <A HREF="mailto:maay-svncheckins%40lists.berlios.de?Subject=Re%3A%20%5BMaay-svncheckins%5D%20r652%20-%20in%20trunk/maay%3A%20.%20data&In-Reply-To=%3C200511241618.jAOGIK4t027433%40sheep.berlios.de%3E"
       TITLE="[Maay-svncheckins] r652 - in trunk/maay: . data">aurelienc at berlios.de
       </A><BR>
    <I>Thu Nov 24 17:18:20 CET 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="000624.html">[Maay-svncheckins] r651 - trunk/maay
</A></li>
        <LI>Next message: <A HREF="000625.html">[Maay-svncheckins] r653 - trunk/maay
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#623">[ date ]</a>
              <a href="thread.html#623">[ thread ]</a>
              <a href="subject.html#623">[ subject ]</a>
              <a href="author.html#623">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Author: aurelienc
Date: 2005-11-24 17:18:19 +0100 (Thu, 24 Nov 2005)
New Revision: 652

Modified:
   trunk/maay/data/livefragment.html
   trunk/maay/data/maay.css
   trunk/maay/webapplication.py
Log:
Added auto hilighting to the left buttons


Modified: trunk/maay/data/livefragment.html
===================================================================
--- trunk/maay/data/livefragment.html	2005-11-24 16:16:49 UTC (rev 651)
+++ trunk/maay/data/livefragment.html	2005-11-24 16:18:19 UTC (rev 652)
@@ -6,11 +6,11 @@
     &lt;table&gt;
       &lt;tr&gt;
         &lt;td&gt;&lt;b&gt;Filter :&lt;/b&gt;&lt;/td&gt;
-        &lt;td&gt;&lt;div class=&quot;localPublicResult&quot;&gt;&lt;a href=&quot;javascript: onlyLocalResults();&quot;&gt;local result&lt;/a&gt; (&lt;span nevow:render=&quot;localcount&quot; /&gt;)&lt;/div&gt;&lt;/td&gt;
+        &lt;td&gt;&lt;div nevow:render=&quot;localResultsDiv&quot;/&gt;(&lt;span nevow:render=&quot;localcount&quot; /&gt;)&lt;/td&gt;
         &lt;td&gt; - &lt;/td&gt;
-        &lt;td&gt; &lt;div class=&quot;distantResult&quot;&gt;&lt;a href=&quot;javascript: onlyDistantResults();&quot;&gt;remote result&lt;/a&gt;(&lt;span nevow:render=&quot;distantcount&quot; /&gt;)&lt;/div&gt;&lt;/td&gt;
+        &lt;td&gt;&lt;div nevow:render=&quot;distantResultsDiv&quot; /&gt;(&lt;span nevow:render=&quot;distantcount&quot; /&gt;)&lt;/td&gt;
         &lt;td&gt;-&lt;/td&gt;
-        &lt;td&gt;&lt;a href=&quot;javascript: allResults();&quot;&gt;all results &lt;/a&gt;(&lt;span nevow:render=&quot;totalcount&quot; /&gt;)&lt;/td&gt;
+        &lt;td&gt;&lt;div nevow:render=&quot;allResultsDiv&quot; /&gt;(&lt;span nevow:render=&quot;totalcount&quot; /&gt;)&lt;/td&gt;
         &lt;td&gt; - &lt;b&gt; Sorted by: &lt;/b&gt;&lt;/td&gt;
         &lt;td&gt;&lt;div nevow:render=&quot;relevanceDiv&quot;/&gt;&lt;/td&gt;
         &lt;td&gt; - &lt;/td&gt;

Modified: trunk/maay/data/maay.css
===================================================================
--- trunk/maay/data/maay.css	2005-11-24 16:16:49 UTC (rev 651)
+++ trunk/maay/data/maay.css	2005-11-24 16:18:19 UTC (rev 652)
@@ -60,50 +60,45 @@
   text-align: center;
 }
 
-div.localPublicResult {
+.localPublicResults, .distantResults, .selectedLocalResults, .selectedDistantResults {
   margin-top: 5px;
   margin-bottom: 5px;
+  margin-right: 3px;
   border-left-style: solid;
-  border-left-width: 4px;
-  border-left-color: #00ff00;
+  border-left-width: 3px;
+  padding-left: 3px;
 }
 
-div.localPrivateResult {
-  margin-top: 5px;
-  margin-bottom: 5px;
-  border-left-style: solid;
-  border-left-width: 4px;
+.localPublicResults {
   border-left-color: #00ff00;
 }
 
-div.distantResult {
-  margin-top: 5px;
-  margin-bottom: 5px;
-  border-left-style: solid;
-  border-left-width: 4px;
+.distantResults {
   border-left-color: #ff0000;
 }
 
-div.selectedLocalResult { 
-  color: blue;
+.selectedLocalResults { 
   background-color: yellow;
-  margin-top: 5px;
-  margin-bottom: 5px;
-  border-left-style: solid;
-  border-left-width: 4px;
   border-left-color: #00ff00;
  }
 
-div.selectedDistantResult { 
+.selectedDistantResults { 
   color: blue;
   background-color: yellow;
+  border-left-color: #ff0000;
+ }
+
+.allResults, .selectedAllResults { 
   margin-top: 5px;
   margin-bottom: 5px;
-  border-left-style: solid;
-  border-left-width: 4px;
-  border-left-color: #ff0000;
+  margin-right: 3px;
  }
 
+.selectedAllResults {  
+  color: blue;
+  background-color: yellow;
+ }
+
 div.selectedCriterium { 
   color: blue;
   background-color: yellow;

Modified: trunk/maay/webapplication.py
===================================================================
--- trunk/maay/webapplication.py	2005-11-24 16:16:49 UTC (rev 651)
+++ trunk/maay/webapplication.py	2005-11-24 16:18:19 UTC (rev 652)
@@ -542,9 +542,29 @@
             return tags.xml(&quot;&quot;&quot;&lt;div class=&quot;unselectedCriterium&quot;&gt;&lt;a href=&quot;javascript: sortBy('publication_time');&quot;&gt;&quot;&quot;&quot;
                             'publication time&lt;/div&gt;')
 
-#    def render_
+    def render_localResultsDiv(self, context, data):
+        if self.onlyLocal:
+            return tags.xml('&lt;span class=&quot;selectedLocalResults&quot;&gt;local results&lt;/span&gt;')
+        else:
+            return tags.xml('&lt;span class=&quot;localPublicResults&quot;&gt;'
+                            '&lt;a href=&quot;javascript: onlyLocalResults();&quot;&gt;local results&lt;/a&gt;&lt;/span&gt;')
 
+    def render_distantResultsDiv(self, context, data):
+        if self.onlyDistant:
+            return tags.xml('&lt;span class=&quot;selectedDistantResults&quot;&gt;distant results&lt;/span&gt;')
+        else:
+            return tags.xml('&lt;span class=&quot;distantResults&quot;&gt;'
+                            '&lt;a href=&quot;javascript: onlyDistantResults();&quot;&gt;distant results&lt;/a&gt;&lt;/span&gt;')
 
+    def render_allResultsDiv(self, context, data):
+        if not (self.onlyLocal or self.onlyDistant):
+            return tags.xml('&lt;span class=&quot;selectedAllResults&quot;&gt;all results&lt;/span&gt;')
+        else:
+            return tags.xml('&lt;span class=&quot;allResults&quot;&gt;'
+                            '&lt;a href=&quot;javascript: allResults();&quot;&gt;all results&lt;/a&gt;&lt;/span&gt;')
+           
+
+
     def render_row(self, context, data):
         document = data
         words = self.query.words #WORDS (was .split())
@@ -569,10 +589,10 @@
         if document.host == 'localhost':
             baseurl = '/download?docid=%s' % (document.document_id,)
             # TODO: make a difference between private and public results
-            context.fillSlots('resultClass', &quot;localPublicResult&quot;)
+            context.fillSlots('resultClass', &quot;localPublicResults&quot;)
         else:
             baseurl = '/distantfile?docid=%s' % (document.document_id,)
-            context.fillSlots('resultClass', &quot;distantResult&quot;)
+            context.fillSlots('resultClass', &quot;distantResults&quot;)
             baseurl += '&amp;host=%s' % (document.host,)
             baseurl += '&amp;port=%s' % (document.port,)
         baseurl += '&amp;filename=%s' % osp.basename(document.url)


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000624.html">[Maay-svncheckins] r651 - trunk/maay
</A></li>
	<LI>Next message: <A HREF="000625.html">[Maay-svncheckins] r653 - trunk/maay
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#623">[ date ]</a>
              <a href="thread.html#623">[ thread ]</a>
              <a href="subject.html#623">[ subject ]</a>
              <a href="author.html#623">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/maay-svncheckins">More information about the Maay-svncheckins
mailing list</a><br>
</body></html>
